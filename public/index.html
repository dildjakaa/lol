<!DOCTYPE html>
<html>
<head>
    <title>Remote Control Panel</title>
    <style>
        body { font-family: 'Courier New', monospace; margin: 20px; background: #0a0a0a; color: #00ff00; }
        .container { max-width: 1000px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 20px; }
        .command-section { margin-bottom: 20px; }
        .command-input { width: 100%; padding: 12px; background: #111; color: #00ff00; border: 1px solid #00ff00; border-radius: 4px; font-family: monospace; }
        .execute-btn { padding: 12px 24px; background: #00ff00; color: #000; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        .output { background: #000; color: #00ff00; padding: 15px; margin: 10px 0; height: 400px; overflow-y: auto; border: 1px solid #00ff00; border-radius: 4px; font-family: monospace; white-space: pre-wrap; }
        .status { color: #ffff00; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üñ•Ô∏è Remote System Control</h1>
            <div class="status" id="status">Disconnected</div>
        </div>
        
        <div class="command-section">
            <input type="text" class="command-input" id="commandInput" placeholder="Enter system command..." onkeypress="handleKeyPress(event)">
            <button class="execute-btn" onclick="executeCommand()">Execute Command</button>
        </div>
        
        <div class="output" id="output"></div>
    </div>

    <script>
        const outputDiv = document.getElementById('output');
        const statusDiv = document.getElementById('status');
        let ws = null;
        
        function connectWebSocket() {
            try {
                ws = new WebSocket('wss://lol-8jcf.onrender.com/ws');
                
                ws.onopen = () => {
                    statusDiv.textContent = 'Connected';
                    statusDiv.style.color = '#00ff00';
                    outputDiv.innerHTML += '> Connection established with target system\n';
                };
                
                ws.onmessage = (event) => {
                    outputDiv.innerHTML += '> ' + event.data + '\n';
                    outputDiv.scrollTop = outputDiv.scrollHeight;
                };
                
                ws.onclose = () => {
                    statusDiv.textContent = 'Disconnected - Reconnecting...';
                    statusDiv.style.color = '#ff0000';
                    setTimeout(connectWebSocket, 3000);
                };
                
                ws.onerror = (error) => {
                    console.error('WebSocket error:', error);
                };
                
            } catch (error) {
                console.error('Connection error:', error);
                setTimeout(connectWebSocket, 5000);
            }
        }
        
        function executeCommand() {
            const command = document.getElementById('commandInput').value.trim();
            if (command && ws && ws.readyState === WebSocket.OPEN) {
                outputDiv.innerHTML += '$ ' + command + '\n';
                ws.send(command);
                document.getElementById('commandInput').value = '';
            }
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                executeCommand();
            }
        }
        
        connectWebSocket();
    </script>
</body>
</html>